üåê Languages: [Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø**English**](README.md) | [**–†—É—Å—Å–∫–∏–π**](README.ru.md)

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π DNS
**–ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å–∞–π—Ç–æ–≤ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ Cloudflare –∏ NextDNS.**

**–ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ GitHub Actions. –ù–∏—á–µ–≥–æ —Å–∫–∞—á–∏–≤–∞—Ç—å, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!** 
[–í–∏–¥–µ–æ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π](#–≤–∏–¥–µ–æ-–ø–æ—à–∞–≥–æ–≤–æ–π-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-redirect-–¥–ª—è-nextdns)

[–û–±—â–µ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ: Cloudflare vs NextDNS](#cloudflare-vs-nextdns)

[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: Cloudflare](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—É—á–µ—Ç–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö-cloudflare)

[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: NextDNS](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—É—á–µ—Ç–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö-nextdns)

[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø—Ä–æ—Ñ–∏–ª—è)

[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤-–¥–∞–Ω–Ω—ã—Ö)

[GitHub Actions](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-github-actions)

---

## Cloudflare vs NextDNS

–û–±–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏–º–µ—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã, –Ω–æ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏.

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Cloudflare
+ 100 000 DNS-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å
+ IPv4 DNS-–∑–∞–ø—Ä–æ—Å—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –æ–¥–Ω–∏–º IP-–∞–¥—Ä–µ—Å–æ–º. –ü—Ä–∏ —ç—Ç–æ–º –º–æ–∂–Ω–æ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã: DoH, DoT, IPv6

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è NextDNS
+ 300 000 DNS-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–µ—Å—è—Ü (—Ç–æ–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
+ –ù–∏–∑–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å API ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 60 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç –∑–∞–º–µ—Ç–Ω–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö Cloudflare
1) –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ **Cloudflare** –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É _Zero Trust_ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç.
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à–∏–µ –ª–∏–º–∏—Ç—ã ‚Äî –ø—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏—Ç–µ –µ–≥–æ
- –®–∞–≥ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –Ω–∞–∂–∞–≤ _Cancel and exit_ (–≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
- –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤–æ –≤–∫–ª–∞–¥–∫—É _Zero Trust_

2) –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω: **Create Token ‚Üí Create Custom Token**:  
   https://dash.cloudflare.com/profile/api-tokens

–° –¥–≤—É–º—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ (Permissions):

    Account.Zero Trust : Edit
    Account.Account Firewall Access Rules : Edit

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ API-—Ç–æ–∫–µ–Ω –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `AUTH_SECRET`.

3) –ù–∞–π–¥–∏—Ç–µ **Account ID**:  
   https://dash.cloudflare.com/?to=/:account/workers

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **Account ID** –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `CLIENT_ID`.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö NextDNS
1) –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ **API KEY** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ  
   https://my.nextdns.io/account  
   –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `AUTH_SECRET`.

2) –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø **NextDNS**. –ù–∞ –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∏–∑ —Å–µ–∫—Ü–∏–∏ **Endpoints**  
   –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `CLIENT_ID`.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `DNS` –Ω–∞–∑–≤–∞–Ω–∏–µ DNS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (**Cloudflare** –∏–ª–∏ **NextDNS**).

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
–ö–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Å—ã–ª–∫–æ–π –Ω–∞ hosts-—Ñ–∞–π–ª, –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç—Ç–æ–π:  
https://raw.githubusercontent.com/Internet-Helper/GeoHideDNS/refs/heads/main/hosts/hosts

–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —Ä–∞–∑–¥–µ–ª–∏–≤ –∏—Ö –∑–∞–ø—è—Ç–æ–π:
`https://first.com/hosts,https://second.com/hosts`

---

### 1) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π (—Ä–µ–¥–∏—Ä–µ–∫—Ç—ã)
–£–∫–∞–∂–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è** `REDIRECT`.

–°–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–∏—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –∏–Ω–≥–Ω–æ—Ä–∏—Ä—É—è —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è –Ω–∞ `0.0.0.0` –∏ `127.0.0.1`

–ù–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ —Å—Ç—Ä–æ–∫:

    0.0.0.0 domain.to.block
    1.2.3.4 domain.to.redirect
    127.0.0.1 another.to.block

–±—É–¥–µ—Ç –≤–∑—è—Ç–∞ —Ç–æ–ª—å–∫–æ `1.2.3.4 domain.to.redirect` –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤.

+ –ï—Å–ª–∏ –¥–æ–º–µ–Ω –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—ë–Ω –ø–µ—Ä–≤—ã–π IP –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

---

### 2) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–ª–æ–∫–ª–∏—Å—Ç–∞
–£–∫–∞–∂–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è** `BLOCK`.

–°–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–∏—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –∑–∞–±–∏—Ä–∞—è —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è –Ω–∞ `0.0.0.0` –∏ `127.0.0.1`

–ù–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ —Å—Ç—Ä–æ–∫:

    0.0.0.0 domain.to.block
    1.2.3.4 domain.to.redirect
    127.0.0.1 another.to.block


–±—É–¥—É—Ç –≤–∑—è—Ç—ã —Ç–æ–ª—å–∫–æ:

    domain.to.block
    another.to.block

–¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

+ –î–ª—è **Cloudflare** –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è `BLOCK` –∏ `REDIRECT`.


+ –î–ª—è **NextDNS** –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –±—É–¥–µ—Ç —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ `REDIRECT`, –∞ —Å–ø–∏—Å–∫–∏ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—ã–±—Ä–∞—Ç—å –≤—Ä—É—á–Ω—É—é –≤–æ –≤–∫–ª–∞–¥–∫–µ _Privacy_.

---

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

### Cloudflare
–†–∞–Ω–µ–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã. –°–∫—Ä–∏–ø—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º:

+ –ü—Ä–µ—Ñ–∏–∫—Å –∏–º–µ–Ω–∏ —Å–ø–∏—Å–∫–∞: **_Blocked websites by script_** –∏ **_Override websites by script_**
+ –ü—Ä–µ—Ñ–∏–∫—Å –∏–º–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞: **_Rules set by script_**
+ –û—Ç–ª–∏—á–∞—é—â–∏–π—Å—è **_Session id_** (Session id —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–æ–ª–µ description)

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–ø–∏—Å–∫–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/—Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ **Cloudflare**, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**.  
–ù–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `BLOCK` –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Å–±—Ä–æ—Å—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

---

### NextDNS

–î–ª—è `REDIRECT`:
+ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –¥–æ–º–µ–Ω –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω, –µ—Å–ª–∏ IP —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è
+ –ù–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º
+ –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–î–ª—è `BLOCK`:
+ –ù–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º
+ –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–†–∞–Ω–µ–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∏ **–î–õ–Ø –û–ë–ï–ò–• –ù–ê–°–¢–†–û–ï–ö** `BLOCK` –∏ `REDIRECT`.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### EXTERNAL_IP - –ó–∞–º–µ–Ω–∞ –≤—Å–µ—Ö IP –∞–¥—Ä–µ—Å–æ–≤

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ –¥–æ–º–µ–Ω—ã –∏–∑ hosts —Ñ–∞–π–ª–æ–≤ –Ω–∞ –æ–¥–∏–Ω IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `EXTERNAL_IP`.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ **–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `EXTERNAL_IP` –Ω—É–∂–Ω—ã–π IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `10.20.30.40`)

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ö–æ–≥–¥–∞ `EXTERNAL_IP` –∑–∞–¥–∞–Ω–∞, –≤—Å–µ IP –∞–¥—Ä–µ—Å–∞ –∏–∑ hosts —Ñ–∞–π–ª–æ–≤ –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π IP
- –ö–æ–≥–¥–∞ `EXTERNAL_IP` –Ω–µ –∑–∞–¥–∞–Ω–∞ –∏–ª–∏ –ø—É—Å—Ç–∞—è, –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ IP –∞–¥—Ä–µ—Å–∞ –∏–∑ hosts —Ñ–∞–π–ª–æ–≤
- –°–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º –¥–æ–º–µ–Ω–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–º IP

**–ü—Ä–∏–º–µ—Ä:**

–ï—Å–ª–∏ –≤ hosts —Ñ–∞–π–ª–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è:
```
1.2.3.4 example.com
5.6.7.8 domain.org
```

–ò –∑–∞–¥–∞–Ω–æ `EXTERNAL_IP=10.20.30.40`, –æ–±–∞ –¥–æ–º–µ–Ω–∞ –±—É–¥—É—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ `10.20.30.40`

–í –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ:
```
>>> Processing: example.com -> 10.20.30.40 (IP changed from 1.2.3.4 to 10.20.30.40)
>>> Processing: domain.org -> 10.20.30.40 (IP changed from 5.6.7.8 to 10.20.30.40)
```

### FORCE_REWRITE - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å (—Ç–æ–ª—å–∫–æ –¥–ª—è NextDNS)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –¥–ª—è NextDNS:
- –î–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω—ã —Å –∏–∑–º–µ–Ω–∏–≤—à–∏–º–∏—Å—è IP
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ NextDNS, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** `FORCE_REWRITE` –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `true`

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ö–æ–≥–¥–∞ `FORCE_REWRITE=true`, –í–°–ï —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∏–∑ NextDNS –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö
- –ö–æ–≥–¥–∞ `FORCE_REWRITE` –Ω–µ –∑–∞–¥–∞–Ω–∞ –∏–ª–∏ –∏–º–µ–µ—Ç –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ

**–ö–æ–≥–¥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ:**
- –í—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã NextDNS —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª –≤–∞—à–∏–º hosts —Ñ–∞–π–ª–∞–º
- –í—ã –≤–Ω–æ—Å–∏–ª–∏ —Ä—É—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ NextDNS –∏ —Ö–æ—Ç–∏—Ç–µ –≤—Å—ë —Å–±—Ä–æ—Å–∏—Ç—å
- –í—ã —É—Å—Ç—Ä–∞–Ω—è–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ —É–¥–∞–ª–∏—Ç –í–°–ï —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–∑ NextDNS, –≤–∫–ª—é—á–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é!

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions

#### –í–∏–¥–µ–æ –ø–æ—à–∞–≥–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ REDIRECT –¥–ª—è NextDNS:
https://www.youtube.com/watch?v=vbAXM_xAL5I

#### –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
1) –°–¥–µ–ª–∞–π—Ç–µ Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2) –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ _Settings_ ‚Üí _Environments_
3) –°–æ–∑–¥–∞–π—Ç–µ _New environment_ —Å –∏–º–µ–Ω–µ–º `DNS`
4) –î–æ–±–∞–≤—å—Ç–µ `AUTH_SECRET` –∏ `CLIENT_ID` –≤ **Environment secrets**
5) –î–æ–±–∞–≤—å—Ç–µ `DNS`, `REDIRECT` –∏ `BLOCK` –≤ **Environment variables**
6) (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤—å—Ç–µ `EXTERNAL_IP` –≤ **Environment variables**, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ IP –∞–¥—Ä–µ—Å–∞
7) (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤—å—Ç–µ `FORCE_REWRITE` (–∑–Ω–∞—á–µ–Ω–∏–µ: `true`) –≤ **Environment variables**, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å

+ **Action** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ **01:30 UTC** (04:30 –ø–æ –ú–°–ö).  
  –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ cron –≤ `.github/workflows/github_action.yml`
+ **Action** –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É **Run workflow**:  
  –≤–∫–ª–∞–¥–∫–∞ _Actions_ ‚Üí workflow **DNS Block&Redirect Configurer cron task**